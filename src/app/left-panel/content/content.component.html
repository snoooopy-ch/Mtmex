<div class="extract">
  <mat-button-toggle-group name="search-text" [(ngModel)]="searchOption" (change)="tglSearchChangeHandler()">
    <mat-button-toggle value="num" class="btn-left-round">no</mat-button-toggle>
    <mat-button-toggle value="all" class="toggle-all">本文+名前+ID</mat-button-toggle>
    <mat-button-toggle value="context" class="btn-right-round toggle-context">本文</mat-button-toggle>
  </mat-button-toggle-group>
  <button type="button" class="toggle-tree" [(ngModel)]="isTreeSearch" btnCheckbox>ツリー</button>

  <input type="text" [(ngModel)]="searchKeyword" #txtSearch
         [typeahead]="searchList"
         [typeaheadMinLength]="0"
         (keyup)="txtSearchKeyUpHandler($event)"
         (ngModelChange)="txtSearchChangeHandler($event)">
  <mat-button-toggle-group name="btn-search" [multiple]="true">
    <mat-button-toggle class="btn-long border-round" (change)="btnSearchChangeHandler()" #btnSearch>抽出</mat-button-toggle>
  </mat-button-toggle-group>
  <mat-button-toggle-group name="btn-notice" [multiple]="true">
    <mat-button-toggle class="btn-long border-round" (change)="btnNoticeChangeHandler()" #btnNotice>注目レス</mat-button-toggle>
  </mat-button-toggle-group>
</div>
<div class="content-url">
  <h3 class="status lbl-sts-main-of-total">{{selectCount}}/{{resList.length}}</h3>
  <h3 class="status">{{candi1Count}}</h3>
  <h3 class="status">{{candi2Count}}</h3>
  <h3 class="status">{{candi3Count}}</h3>
  <h3 class="status">{{candi4Count}}</h3>
  <label>URL</label>
  <input type="text" [(ngModel)]="txtURL">
</div>
<h3>{{tabName}}</h3>
<virtual-scroller class="res-content" #resListContainer [items]="resList" (vsUpdate)="vsResContainerUpdateHandler($event)"
                  cdkDropList (cdkDropListDropped)="resDropHandler($event)" [scrollAnimationTime] = 0 [enableUnequalChildrenSizes]="true">

    <app-res [item]="resItem" [resIndex]="resList.indexOf((resItem))"
             [ngStyle]="{'background-color':hovered !== (resList.indexOf(resItem)) ? resItem.resBackgroundColor: getHoverColor(resItem.resBackgroundColor),
             'border-left': resItem.isAdded ? leftBorder : '', 'border-top': resItem.isRemark ? topBorder : resTopBar}"
             (duplicateResEmitter)="duplicateRes(resItem)"
             (deleteResEmitter)="deleteRes(resItem)"
             (hideResEmitter)="hideRes(resItem.id)"
             (upResEmitter)="moveUpRes(resItem)"
             (downResEmitter)="moveDownRes(resItem)"
             (toTopResEmitter)="moveResToTop(resItem)"
             (toBottomResEmitter)="moveResToBottom(resItem)"
             (selectedResEmitter)="selectedRes(resItem, $event)"
             (cancelSelectedIdEmitter)="cancelSelectedIdRes(resItem.id, $event)"
             (selectedIdEmitter)="selectedId(resItem.id, $event)"
             (selectedTreeResEmitter)="selectedTreeRes(resList.indexOf(resItem), $event)"
             (setDraggableEmitter)="setDraggable(resList.indexOf(resItem), $event)"
             (selectedNumEmitter)="selectedNum(resItem)"
             [tabIndex]="tabIndex"
             [ngClass]="{'anchor-res': resItem.isAdded,'hide-res':!resItem.isShow}"
             (mouseenter)="mouseEnterHandler(resList.indexOf(resItem))"
             (mouseleave)="mouseLeaveHandler()"
             (click)="mouseClickHandler()"
             *ngFor="let resItem of resListContainer.viewPortItems; let index = index ;"
             [characterColors] = 'characterColors'
             [backgroundColors] = 'backgroundColors'
             [resMouseClick] = "resMouseClick"
             [idStyles] = "idStyles"
             [idRed] = "idRed"
             [noticeCount] = "noticeCount"
             [resSizeList] = "resSizeList"
             [txtRemarkRes] = "txtRemarkRes"
             [btnBackgroundColors] = "btnBackgroundColors"
             [leftHightlight] = "leftHightlight"
             [imageWidth]="imageWidth"
             (cdkDragStarted)="resDragStartedHandler($event, resItem)"
             [cdkDragDisabled]="getDraggable(resList.indexOf(resItem))"
             cdkDragLockAxis="y" cdkDrag>
    </app-res>
</virtual-scroller>
