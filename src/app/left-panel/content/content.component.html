<div class="extract">
  <mat-button-toggle-group name="search-text" [(ngModel)]="searchOption">
    <mat-button-toggle value="all" class="btn-left-round">all</mat-button-toggle>
    <mat-button-toggle value="context" class="btn-right-round" class="border-left: none">本</mat-button-toggle>
  </mat-button-toggle-group>
  <input type="text" [(ngModel)]="searchKeyword" #txtSearch (keyup)="searchOnKeyHandler($event)">
  <mat-button-toggle-group name="btn-search" [multiple]="true">
    <mat-button-toggle class="btn-long border-round" (change)="searchTextHandler()" #btnSearch>抽出</mat-button-toggle>
  </mat-button-toggle-group>
  <mat-button-toggle-group name="btn-notice" [multiple]="true">
    <mat-button-toggle class="btn-long border-round" (change)="filterNoticeHandler()" #btnNotice>注目レス</mat-button-toggle>
  </mat-button-toggle-group>
</div>
<h3>{{tabName}}</h3>
<div class="content-url">
  <label>URL</label>
  <input type="text" [(ngModel)]="txtURL">
</div>
<!--[enableUnequalChildrenSizes]="true" [bufferAmount]="5"-->
<virtual-scroller class="res-content" #resListContainer [items]="resList" (vsUpdate)="usUpdateHandler($event)"
                  cdkDropList (cdkDropListDropped)="drop($event)" [scrollAnimationTime] = 0 [enableUnequalChildrenSizes]="true">
    <app-res [item]="resItem" [resIndex]="index + resListContainer.viewPortInfo.startIndex - 5"
             [ngStyle]="{'background-color':hovered !== (resList.indexOf(resItem)) ? resItem.resBackgroundColor: getHoverColor(resItem.resBackgroundColor),
             'border-left': resItem.isAdded ? leftBorder : ''}"
             (duplicateResEmitter)="duplicateRes(resItem)"
             (hideResEmitter)="hideRes(resItem.id)"
             (upResEmitter)="upRes(resItem)"
             (downResEmitter)="downRes(resItem)"
             (toTopResEmitter)="toTopRes(resItem)"
             (toBottomResEmitter)="toBottomRes(resItem)"
             (selectedResEmitter)="selectedRes(resItem, $event)"
             (selectedIdEmitter)="selectedId(resItem.id, $event)"
             (selectedTreeResEmitter)="selectedTreeRes(resList.indexOf(resItem), $event)"
             (setDraggableEmitter)="setDraggable(resList.indexOf(resItem), $event)"
             (selectedNumEmitter)="selectedNum(resItem)"
             [tabIndex]="tabIndex"
             [ngClass]="{'anchor-res': resItem.isAdded,'hide-res':!resItem.show}"
             (mouseenter)="mouseEnterHandler(resList.indexOf(resItem))"
             (mouseleave)="mouseLeaveHandler()"
             *ngFor="let resItem of resListContainer.viewPortItems; let index = index ;"
             [characterColors] = 'characterColors'
             [backgroundColors] = 'backgroundColors'
             [idStyles] = "idStyles"
             [idRed] = "idRed"
             [noticeCount] = "noticeCount"
             [resSizeList] = "resSizeList"
             (cdkDragStarted)="dragStarted($event, resItem)"
             [cdkDragDisabled]="getDraggable(resList.indexOf(resItem))" cdkDrag>

    </app-res>
</virtual-scroller>
